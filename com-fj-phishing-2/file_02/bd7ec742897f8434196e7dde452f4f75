<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>亿邮电子邮件系统</title>
<meta name="description" content="亿邮电子邮件系统，亿邮邮件整体解决方案">
<meta name="keywords" content="企业邮件，亿邮企业邮件，亿邮邮件整体解决方案">
<style>
*{ margin:0; padding:0}
body{ font-family:"微软雅黑",Verdana, Geneva, sans-serif; font-size:12px; background:#fff}
.t{ height:76px; line-height:90px; background:#f5f5f5; border-bottom:1px solid #e5ecf0; overflow:hidden;}
a{ outline:none}
.h{ width:964px; margin:0 auto;}
.logo{ padding-top:15px; float:left}
.help{ float:right; font-size:14px; font-weight:700; color:#787878; text-decoration:none;}
.help:hover{ text-decoration:underline}

.c{ width:964px; height:460px; margin:20px auto 0 auto; background:url(/tpl/login/user/images/login_bg_2.jpg) no-repeat; position:relative}
.b{ height:70px; border-top:1px solid #fff; border-radius:0 0 5px 5px; background:#f7f7f7; clear:both; width:964px; margin:0 auto; text-align:center; line-height:70px; color:#999;}
ul{ list-style:none}

.box{ width:376px;position:absolute; box-shadow:0 0 5px rgba(0,0,0,0.4)}
.text_item{height:38px; line-height:38px; width:292px; margin:15px 0 30px 0;}

.text{ height:36px; line-height:36px;outline:none; font-size:20px;width:280px;border:1px solid #c7c7c7; background:#f3f3f3; border-radius:2px; padding:0 5px; font-family:"微软雅黑"}
.text_f{ height:36px; line-height:36px;outline:none; font-size:20px;width:280px; padding:0 5px;border:1px solid #0167ff; background:#fff; border-radius:2px; box-shadow:0 0 3px rgba(0,0,0,0.4); font-family:"微软雅黑"}
.bl{color:#999; width:292px; overflow:hidden; position:relative; top:-3px; font-size:14px;}
.bl a{ color:#999; text-decoration:none}
.bl a:hover{ color:#333; text-decoration:underline;}
.bl input{ position:relative; top:2px; opacity:0.7;}

.tab{ border-bottom:3px solid #ff7e00; border-bottom:3px solid rgba(255,126,0,0.8); overflow:hidden;}

.tab li{ height:40px; line-height:40px; float:left; width:89px; text-align:center;  background:url(/tpl/login/user/images/tabli.png); _background:#333;color:#fff; font-size:16px; cursor:pointer;}
.tab li:hover{background:url(/tpl/login/user/images/tablihover.png); _background:#000; }
.tab li.current{background:url(/tpl/login/user/images/tablicurrent.png); _background:#ff7e00;}
.tab li.dragbar{ width:20px; background:url(/tpl/login/user/images/dragbar.png); cursor:move}


.boxc{ background:#fff; padding:20px 0 30px 42px;}
.pop{ border:1px solid #0167ff; position:absolute; width:290px; background:#fff; border-top:none;z-index:100; border-radius:0 0 2px 2px; box-shadow:0 2px 3px rgba(0,0,0,0.4); left:42px; top:136px; z-index:1000}
.pop a{ overflow:hidden;display:block; height:34px; line-height:34px; font-size:14px; color:#666; margin:0 5px; font-weight:700; text-decoration:none;}
.pop p:hover{ background:#f6f6f6}
.pop p:first-child a{ border-top:1px dotted #eee;}
.pop p.first{ color:#000; background:#b5c6e6;}

.fp{ position:absolute; right:0; top:-14px; line-height:12px; text-decoration:none; color:#333}
.fp:hover{ text-decoration:underlined; color:#333}
.yzm{ float:right; display:block; height:38px; background:#eee; width:135px;}
.yzmbox{ position:absolute; height:38px; width:112px; background:#eee; left:000; top:-40px;}
a.zc{ font-weight:700; color:#f60}
a.zc:hover{color:#f60}
.showpassword{ position:absolute; height:18px; line-height:18px; right:-1px; top:38px; background:#bac5d4; color:#fff; padding:0 3px;}
.showpassword input{ position:relative; top:2px;}
.btnb{margin:20px 0 0 0; width:292px; position:relative;}
.btnb a{ float:right; color:#787878; text-decoration:none;}
.btnb a:hover{ text-decoration:underline;}
.btn{ height:38px; width:142px; border:none; font-size:14px; color:#fff; font-weight:400; background:url(/tpl/login/user/images/login_btn.jpg) 0 0; font-size:20px; font-family:"微软雅黑"}
.btn:hover{ background-position:0 -38px;}
h3{ text-align:; font-size:16px; padding-right:42px; }
.blt{ float:right;}
.msg{ position:absolute; background:#cc3300; color:#fff; padding:0 10px; font-size:14px; top:55px; height:30px; line-height:30px; left:42px; right:42px; text-align:center}


.f{ position:absolute;bottom:56px;background:url(/tpl/login/user/images/wbg.png); _background:#fff;height:80px; padding:10px;}
.fl{ float:left; height:80px; width:80px; margin-right:10px;}
.fr{ float:left; height:80px; width:320px; padding-left:10px;}
.fr a{ line-height:20px; display:block; width:320px; overflow:hidden; height:20px; color:#333; text-decoration:none; background:url(/tpl/login/user/images/login_dot.jpg) left center no-repeat; padding-left:5px;}

.login_drag{ display:none; position:absolute; width:374px; height:342px; top:60px; left:60px; border:1px dotted #000; zoom:1; background:url(/tpl/login/user/images/dragbg.png); _background:none;}
</style>
<!-- 登录界面普通处理开始 -->
<script type="text/javascript" src="/tpl/public/js/url_control.js"></script>
<script type="text/javascript">
var gUrlPrefix = '/';
var isCaptcha = 2;
var code = 0;

//自动完成匹配用的域名列表
var domainList = [];

//引入系统配置里面的域列表信息,合并到自动完成的域里面里面。
domainList = (["cqc.com.cn"]).concat(domainList);

var gLockInfo = "";var msgTpl = {
    1 : "您填写的用户名或密码错误。",
    2 : "您帐户所在的域已经过期。", 
    3 : "您的帐户已经过期。",
    4 : "您的帐户已经被锁定。",
    5 : "验证码已经过期，请重新输入。",
    6 : "您填写的验证码错误，请重新输入。",
    7 : "模板配置错误。",
    8 : "该用户不允许别名登录。",
    9 : "重试次数太多，用户被锁定。",
    10 : "重试次数太多，IP被锁定，" + gLockInfo + "分钟后再试。" 
};
var furls = {
    //收信url
        'inbox': '&module=listmail&_data=listmail%3D%253Ffid%253D1', 
    //写信url
    'compose' : '&module=compose&_data=compose%3D%253Faction%253Dcompose', 
    //今日url
    'today' : '&module=today&_data=',
    //网盘url
    'storage' : '&module=storage&_data='
};

var showMsgCode = function(c) {
    c = c-0;
    if (c === 0) {
        showMsg();
    } else if (msgTpl[c]) {
        showMsg(msgTpl[c]);
    } else {
        showMsg(msgTpl[1]);
    }
}

var showMsg = function(msg) {
    if (msg === undefined) {
        document.getElementById('msg').style.display = 'none';
    } else {
        document.getElementById('msg').innerHTML = msg;
        document.getElementById('msg').style.display = '';
    }
}

var getLoginTo = function() {
        return getCookie('emLoginTo');
    }

var setCookie = function(k, v) {
    document.cookie = k + '=' + encodeURIComponent(v) + ' ;expires=' + (new Date(
                (new Date()).getTime() + 180*24*3600*1000
                )).toGMTString() + ' ;path=/';
}

var getCookie = function(k) {
    var cookieStr = document.cookie;
    if (cookieStr != "") {
        var cookieArr = cookieStr.split(';');
        var everyCookie, cookieKey, cookieValue, splitPos;
        for (i=0; i<cookieArr.length; i++) {
            everyCookie = cookieArr[i].replace(/(^\s*)|(\s*$)/g, '');
            if (everyCookie != "") {
                splitPos = everyCookie.indexOf('=');
                if (splitPos == -1) continue;
                cookieKey = everyCookie.substr(0, splitPos);
                cookieValue = everyCookie.substr(splitPos+1);

                if (cookieKey === k) {
                    return decodeURIComponent(cookieValue);
                }
            }
        }
    }

    return '';
}

var setLoginTo = function(loginTo) {
        setCookie('emLoginTo', loginTo);
    }

var tabClick = function(tab, notClear) {
    notClear = !!notClear;
    if (!notClear) {
        showMsg(); 
    }
    var c = tab.className;
    var liList = tab.parentNode.getElementsByTagName('li');
    for (var i=liList.length-2; i>=0; i--) {
        liList[i].className = '';
    }

    if (c === 'current') {
        document.getElementById('where').innerHTML = '';
        document.form_login.go.value = gUrlPrefix + '?q=base';
        setLoginTo('');
        tab.className = '';
    } else {
        document.getElementById('where').innerHTML = '&raquo; ' + tab.innerHTML;
                document.form_login.go.value = gUrlPrefix + '?q=base' + furls[tab.id];
                setLoginTo(tab.id);
        tab.className = 'current';
    }

}

var ajax_post = function(url, data, success) 
{
    var ajax;
    var toTry = ['XMLHttpRequest', 'Msxml2.XMLHTTP', 'Microsoft.XMLHTTP'];
    for (var i=0; i<toTry.length; i++) {
        try {
            if (i == 0) {
                ajax = new window[toTry[i]]();
            } else {
                ajax = new window.ActiveXObject(toTry[i]);
            }
            break;
        } catch(e) {}
    }
    
    var stateChange = function()
    {
        if(ajax.readyState == 4)
        {
            if (ajax.status >=400) {
            } else if (typeof(success) === 'function') {
                success(ajax.responseText);
            }
        }
    };

    url = url + (url.indexOf('?') > -1 ? '&' : '?') + 'r=' + Math.random();

    ajax.onreadystatechange = stateChange;

    ajax.open('post', url, true);
    ajax.setRequestHeader("Content-Type","application/x-www-form-urlencoded");

    try {
        ajax.send(data);
    } catch (e) {
    }
};

var on = function(node, ev, callback) {
    if (!node) return;
    var _callback = function(ev) {
        if (false === callback.apply(node, [ev])) {
            if (ev.preventDefault) {
                ev.preventDefault();
            }
            return false;
        }
    }
    if (node.addEventListener) {
        node.addEventListener(ev, _callback, false);
    } else {
        node.attachEvent('on'+ev, _callback);
    }
}

var _setPlaceholder = function (b) {
    var a = b.getAttribute("_placeholder");
    if (!a) return;
    if ("placeholder" in b) {
        b.placeholder = a;
        return b;
    }

    var f = false;
    var _b;
    //password补丁
    if (b.type === 'password') {
        f = true;
        _b = document.createElement('input');
        _b.type = 'text';
        _b.style.fontSize =  '20px';
        _b.style.color = "#999";
        _b.value = a;
        _b.className = 'text';
        _b.style.display = 'none';
        b.parentNode.insertBefore(_b, b);
    }
    
    //初始化
    if (f) {
        if (b.value !== '') {
            b.style.display = '';
            _b.style.display = 'none';
        } else {
            b.style.display = 'none';
            _b.style.display = '';
        } 
    } else {
        if (b.value !== "") {
            b.empty = 0;
            b.style.color = "#000";
        } else {
            b.empty = 1;
            b.value = a;
            b.style.color = "#999";
        }
    }
    if (f) {
        on(_b, "focus", function () {
            _b.style.display = 'none';
            b.style.display = '';
            b.focus();
        });
        on(b, "blur", function () {
            if (b.value === "") {
                _b.style.display = '';
                b.style.display = 'none';
            }
        });
    } else {
        on(b, "focus", function () {
            if (this.empty == 1) {
                this.value = "";
                this.style.color = "#000";
            }
        });
        on(b, "blur", function () {
            if (this.empty == 1) {
                this.value = a 
                this.style.color = "#999"; 
            }
        });
        on(b, "change", function () {if (this.value === "") {this.empty = 1;} else {this.empty = 0;}});
        }
    return b;
}

window.onload = function() {
    if (!window.location.href.match(/&furl=.+/)) {
        var loginTo = getLoginTo();
        if (loginTo && document.getElementById(loginTo)) {
            tabClick(document.getElementById(loginTo), true);
        } 
    }

    var _u = getCookie('emLoginUser');
    if (_u) {
        document.getElementById('user').value = _u;
        document.form_login.user.value = _u;
    }
    
    var ipts = document.getElementsByTagName('input');
    for (var i=ipts.length-1; i>=0; i--) {
        var type = ipts[i].type;
        if ((type == 'text' || type == 'password') && ipts[i].getAttribute('_placeholder')) {
            _setPlaceholder(ipts[i]);
        }
    }

    
    var authCode = document.getElementById('auth_code');
    var authImage = document.getElementById('auth_code_img');
    var timer = 0;
    on(authCode, 'focus', function() {
        if (authImage.innerHTML === '') {
            loadImage();
        }
        clearTimeout(timer);
        authImage.style.display = ''; 
    });
    
    on(authCode, 'blur', function() {
        clearTimeout(timer);
        timer = setTimeout(function() {
            authImage.style.display = 'none'; 
        }, 100);
    });

    on(authImage, 'click', function() {
        loadImage();      
        clearTimeout(timer);
        authCode.focus();
    });

    var loadImage = function() {
        authImage.innerHTML = '<img width=112 height=38 title="点击更换验证码" src="' + "/?q=auth.image&type=login&r=" + Math.random() + '">';
    }

    if (isCaptcha == 2) {
        var forceCaptcha = false;
        var showCaptcha = function() {
            var authCode = document.getElementById('auth_code');
            authCode.style.display = '';
            forceCaptcha = true;
        }

        var hideCaptcha = function() {
            var authCode = document.getElementById('auth_code');
            authCode.style.display = 'none';
            forceCaptcha = false;
        }

        var changeFun = function() {
            var u = document.getElementById('user').value.replace(/^\s+|\s+$/g, '');
            if (u === '') {
                hideCaptcha();
                return;
            }
            ajax_post('/?q=login.check.captcha', 'user=' + encodeURIComponent(u), function(d) {
                try {
                    var o = eval('(' + d  + ')');
                    if (o.data) {
                        showCaptcha();
                    } else {
                        hideCaptcha();
                    }
                } catch(e) {
                    hideCaptcha();
                }
            });
        };


        on(document.getElementById('user'), 'blur', changeFun);
        changeFun();
    }

    var beforeLogin = function() {
        var uc1, uc2, fUrl;
        var loginUrl, locationUrl;

        var loginSsl = document.form_login.login_ssl.value;

        uc1 = new UrlControl();
        uc2 = new UrlControl();

        uc1.setUrl(window.location.href);
        fUrl = uc1.getParam("furl");

        var tabs = document.getElementById('tab').getElementsByTagName('li');
        for (var i=0; i<tabs.length-1; i++) {
            if (tabs[i].className === 'current') {
                fUrl = document.form_login.go.value;
            }
        }

        var urlPort1, urlPort2, urlProtocol1, urlProtocol2;
        if ("" === uc1.urlProtocol) {
            urlPort1 = "";
        } else {
            urlProtocol1 = uc1.urlProtocol + "://";
            urlPort1 = "" === uc1.urlPort ? "" : (":" + uc1.urlPort);
        }

        uc2.setUrl(urlProtocol1 + uc1.urlHostname + urlPort1 + uc1.getPath());
        switch (parseInt(loginSsl)) {
            case 1:
                if (document.form_login.login_ssl.checked) {
                    uc2.urlProtocol = 'https'; 
                }
                break;
            case 2:
                uc2.urlProtocol = 'https';//login.do 
                break;
            case 3:
                uc1.urlProtocol = 'https';//q=base 
                uc2.urlProtocol = 'https'; 
                break;
            default:
        }

        if ("" === uc2.urlProtocol) {
            urlPort2 = "";
        } else {
            urlProtocol2 = uc2.urlProtocol  + "://";
            urlPort2 = "" === uc2.urlPort ? "" : (":" + uc2.urlPort);
        }
        
        if ("" === uc1.urlProtocol) {
            urlPort1 = "";
        } else {
            urlProtocol1 = uc1.urlProtocol + "://";
            urlPort1 = "" === uc1.urlPort ? "" : (":" + uc1.urlPort);
        }

        if (fUrl) {
            var uc3 = new UrlControl(); 
            uc3.setUrl(decodeURIComponent(fUrl));
            if (!uc3.urlProtocol) {
                locationUrl =  urlProtocol1 + uc1.urlHostname + urlPort1 + uc3.getPath() + "?" + uc3.getQs();
            } else {
                locationUrl = uc3.getUrl();
            }
        } else {
            locationUrl =  urlProtocol1 + uc1.urlHostname + urlPort1 + uc1.getPath() + "?q=base";
        }

        document.form_login.setAttribute('action', uc2.getUrl() + "?q=login.do");
        document.form_login.referer.value = window.location.href;
        document.form_login.go.value = locationUrl;
    }

    var onsubmit = function(ev, noAlert) {
        noAlert = !!noAlert;
        showMsg();
        var uNode = document.getElementById('user');
        var u = uNode.value.replace(/^\s+|\s+$/g, '');
        if (u === '' || uNode.empty === 1 || document.form_login.password.value === '') {
            if (!noAlert) {
                showMsg("请填写用户名和密码。");
            }
            if (u === '' || uNode.empty === 1) {
                uNode.focus();
            } else {
                if (document.form_login.password.style.display === 'none') {
                    document.form_login.password.previousSibling.style.display = 'none';
                    document.form_login.password.style.display = '';
                }
                document.form_login.password.focus();
            }
            return false;
        }

        document.form_login.user.value = u;

        //如果开启验证码
        if (isCaptcha == 1 || forceCaptcha) {
            if ("" == authCode.value || authCode.empty === 1) {
                if (!noAlert) {
                    showMsg("请填写验证码。"); 
                }
                authCode.focus();
                return false;
            }
        }

        setCookie('emLoginUser', u);
        beforeLogin();

        return true;
    };

    on(document.getElementById('user'), 'keydown', function(ev) {
        if (ev.keyCode === 13) {
        setTimeout(function() {
            if (false === onsubmit(null, true)) {
                return; 
            } else {
                document.form_login.submit();
            }
        }, 100);
        }
    });

    on(document.form_login, 'submit', onsubmit);

    showMsgCode(code);


}
//以下代码用来登录退出
ajax_post('/?q=login.destroy.session');
</script>
<!-- 登录界面普通处理结束 -->
</head>

<body>
<div class="t">
	<div class="h">
    	<div class="logo"><img src="/tpl/login/user/images/login_logo.png"></div>
        <a href="/?q=help" target="_blank" class="help">帮助</a>
    </div>
</div>

<div class="c">

    	<div class="box" style="right: 60px; top: 60px; left: auto;" id="box">
            <!-- 登录到切换工具栏开始 -->
        	<ul class="tab" id="tab">
            	<!--li class="current">收信</li-->
                                <li onclick="tabClick(this)" id="inbox">收信</li>
                <li onclick="tabClick(this)" id="compose">写信</li>
                <li onclick="tabClick(this)" id="today">今日</li>
                <li onclick="tabClick(this)" id="storage">网盘</li>
                <li class="dragbar" id="dragbar"></li>
            </ul>
            <!-- 登录到切换工具栏结束 -->
            <!-- 错误信息提示框开始 -->
            <div class="msg" style="display:none" id="msg"></div>
            <!-- 错误信息提示框结束 -->
            	<div class="boxc">
                <h3>用户登录 <span id="where"></span></h3>
                <div class="text_item">
                    <input type="text" class="text" id="user" style="font-size: 20px;" autocomplete="off" _placeholder="用户名" onfocus="this.className='text_f'" onblur="this.className='text'" placeholder="用户名">
                    <div class="pop" style="display:none;" id="pop">
                        <p class="first"><a href="#">wanghongyu@eyou.net</a></p>
                        <p><a href="#">wanghongyu@eyou.com</a></p>
                        <p><a href="#">wanghongyu@vip.eyou.net</a></p>
                        <p><a href="#">wanghongyu@test.eyou.net</a></p>
                    </div>
                </div>
        <form name="form_login" method="post" action="/user/?q=login.do">
                <div class="text_item">
                    <input type="hidden" class="text" name="user" value="">
                    <input type="password" class="text" name="password" _placeholder="密码" onfocus="this.className='text_f'" onblur="this.className='text'" placeholder="密码">
                </div>
                <div class="bl">
               	 	<span style="float:left">
                                            <input type="hidden" name="login_ssl" value="0">
                                        </span>
                    <span class="blt">
                                        </span> 
          		</div>
                <div class="btnb">
                    <!-- 验证码控制开始 -->
               		<input type="text" name="auth_code" class="text" _placeholder="验证码" style="width:100px; float:left;display:none" onfocus="this.className='text_f'" onblur="this.className='text'" id="auth_code" placeholder="验证码">
                    <div class="yzmbox" style="z-index:1000;display:none" id="auth_code_img"></div>
                    <!-- 验证码控制结束 -->

                    <!-- 登录后的URL控制开始 -->
                        
                        <!-- 登录成功以后跳转的URL -->
                                                <input type="hidden" name="go" value="/?q=base">
                                            
                        <!-- 登录成功失败后跳转的URL -->
                        <input type="hidden" name="referer" value="/?q=login">

                    <!-- 登录后的URL控制结束 -->

                    <!-- 登录按钮 -->
                    <input type="submit" class="btn" value="登  录" style="float:right">
                    <div style="clear:both"></div>
                </div>
        </form>
               </div>
        </div>
        <div class="f" id="f" style="display: none; right: auto; left: 60px;">
            <!--div class="fl"><img src="images/tmp.jpg" /></div>
            <div class="fr">
                <a href="#">2012-9-5 eyou.net更新至8.0.1</a>
                <a href="#">一大邮件系统软件及整体解决方案提供商</a>
                <a href="#">中国第一大邮件系统软件及整系统软件及整体解决方案提供商</a>
                <a href="#">中国第一大邮件系统决方案提供商</a>
            </div-->
        </div>
        <div class="login_drag" id="drag_target" style="right: auto; left: 60px;"></div>
</div>

<div class="b">
<!-- 版权信息开始 -->
eYouMail 5 ©2009-2012 eYou.net &nbsp;&nbsp;&nbsp;&nbsp;中国第一大邮件系统软件与整体解决方案提供商&nbsp;&nbsp;&nbsp;&nbsp;
<!-- 版权信息结束 -->
</div>
<script type="text/javascript" src="/tpl/user/public/js/load_cache.js"></script>
<!-- 登录界面高级处理开始 -->
<script type="text/javascript" src="/tpl/login/user/js/login.js"></script>
<script type="text/javascript">
if (window.Login) {
    try {
    (new Login()).init();
    } catch(e){}
}
</script><div style="position: absolute; left: -1000px; top: -1000px; font-family: 微软雅黑; font-weight: normal;"></div>
<!-- 登录界面高级处理结束 -->


<iframe src="/?q=login.load_cache" width="0" height="0" style="display: none;"></iframe></body></html>